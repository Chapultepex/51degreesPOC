<!DOCTYPE html>
<html>
    <body>
        <h1>51Degrees cloud example 2</h1>
        <button type="button" onclick="buttonClicked()">Check Geolocalizacion</button>
        <div id="htmlExampleOutput"></div>
    </body>
</html>
<script async src="https://cloud.51degrees.com/api/v4/AQTIHPLXoUk9J80C2kg.js"></script>
<script type="text/javascript">
    window.onload = function() {
		if (supportsUACH()) {
			navigator.userAgentData.get({
			  uaFullVersion: true,
			  platform: true,
			  architecture: true
			})
			.then(uaData => {
			  // Access Client Hints data here
			  addText("User-Agent Client Hints: Detected");
			  addText("uaFullVersion: " + uaData.uaFullVersion);
			  // ... process other hints as needed
			})
			.catch(error => {
			  console.error("Error fetching Client Hints:", error);
			});
		  } else {		
		
			fod.complete(function (data) {
				// Fetch the properties from the JSON response and write to the page.
				addText("DeviceType: " + data.device["devicetype"]);
				addText("IsMobile: " + data.device["ismobile"]);
				addText("IsSmartPhone: " + data.device["issmartphone"]);
				addText("MaxNumberOfSIMCards: " + data.device["maxnumberofsimcards"]);
				addText("SupportedSIMCardTypes: " + data.device["supportedsimcardtypes"]);
				addText("SupportedBearers: " + data.device["supportedbearers"]);
				addText("IsWebApp: " + data.device["iswebapp"]);
				addText("HardwareVendor: " + data.device["hardwarevendor"]);
				addText("HardwareModel: " + data.device["hardwaremodel"]);
				addText("HardwareName: " + data.device["hardwarename"]);
				addText("DeviceId: " + data.device["deviceid"]);
				addText("Method: " + data.device["method"]);
				addText("BrowserVendor: " + data.device["browservendor"]);
				addText("BrowserName: " +  uaData.uaFullVersion);
				addText("BrowserVersion: " + data.device["browserversion"]);
				addText("PlatformVendor: " + data.device["platformvendor"]);
				addText("PlatformName: " + data.device["platformname"]);
				addText("PlatformVersion: " + data.device["platformversion"]);
			});
		  }
    }
    
        buttonClicked = function() {
        fod.complete(function (data) {
            addText("State (by lat/lon): " + data.location["state"]);
            addText("Country (by lat/lon): " + data.location["country"]);
            addText("CountryCode (by lat/lon): " + data.location["countrycode"]);
            addText("County (by lat/lon): " + data.location["county"]);
            addText("Town (by lat/lon): " + data.location["town"]);
        }, 'location');
    }
	
	function supportsUACH() {
		return 'getClientHints' in navigator && 'DeviceMemory' in navigator.userAgentData;
	}
	
	

    addText = function(text) {
        document.getElementById("htmlExampleOutput").innerHTML+=text + "<br>";
    }
</script>
